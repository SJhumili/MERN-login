{"version":3,"sources":["../../src/routes/index.js"],"names":["passport","require","twitterAuth","authenticate","googleAuth","scope","facebookAuth","githubAuth","router","Router","use","Middlewares","loginRequired","api","post","Authentication","signup","signin","get","req","res","send","json","signinGoogle","google","next","session","socketId","query"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;;AAEA,IAAMC,cAAcF,SAASG,YAAT,CAAsB,SAAtB,CAApB;AACA,IAAMC,aAAaJ,SAASG,YAAT,CAAsB,QAAtB,EAAgC,EAAEE,OAAO,CAAC,SAAD,CAAT,EAAhC,CAAnB;AACA,IAAMC,eAAeN,SAASG,YAAT,CAAsB,UAAtB,CAArB;AACA,IAAMI,aAAaP,SAASG,YAAT,CAAsB,QAAtB,CAAnB;;AAEA,IAAMK,SAASP,QAAQ,SAAR,EAAmBQ,MAAnB,EAAf;;AAGAD,OAAOE,GAAP,CAAW,MAAX,EAAmBC,sBAAYC,aAA/B,EAA8CC,aAA9C;;AAEAL,OAAOM,IAAP,CAAY,SAAZ,EAAuBC,yBAAeC,MAAtC;AACAR,OAAOM,IAAP,CAAY,SAAZ,EAAuBC,yBAAeE,MAAtC;AACAT,OAAOU,GAAP,CAAW,OAAX,EAAoB,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIC,IAAJ,CAAS,MAAT,CAAd;AAAA,CAApB;AACAb,OAAOU,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIE,IAAJ,CAAS,EAAC,UAAU,EAAX,EAAT,CAAd;AAAA,CAAhB;;AAEAd,OAAOM,IAAP,CAAY,gBAAZ,EAA8BC,yBAAeQ,YAA7C;;AAQAf,OAAOU,GAAP,CAAW,kBAAX,EAA+Bd,UAA/B,EAA2CW,yBAAeS,MAA1D;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACAhB,OAAOE,GAAP,CAAW,UAACS,GAAD,EAAMC,GAAN,EAAWK,IAAX,EAAoB;AAC7BN,MAAIO,OAAJ,CAAYC,QAAZ,GAAuBR,IAAIS,KAAJ,CAAUD,QAAjC;AACAF;AACD,CAHD;;AAKA;AACA;AACA;AACA;AACA;;kBAEejB,M","file":"index.js","sourcesContent":["import Authentication from '../controllers/authentication'\nimport Middlewares from './middlewares'\nimport api from './api'\nconst passport = require('passport')\n\nconst twitterAuth = passport.authenticate('twitter')\nconst googleAuth = passport.authenticate('google', { scope: ['profile'] })\nconst facebookAuth = passport.authenticate('facebook')\nconst githubAuth = passport.authenticate('github')\n\nconst router = require('express').Router()\n\n\nrouter.use('/api', Middlewares.loginRequired, api)\n\nrouter.post('/signup', Authentication.signup)\nrouter.post('/signin', Authentication.signin)\nrouter.get('/ping', (req, res) => res.send('pong'))\nrouter.get('/', (req, res) => res.json({'source': ''}))\n\nrouter.post('/signin/google', Authentication.signinGoogle)\n\n\n\n\n\n\n\nrouter.get('/google/callback', googleAuth, Authentication.google)\n\n// Setting up the passport middleware for each of the OAuth providers\n\n\n// Routes that are triggered by the callbacks from each OAuth provider once \n// the user has authenticated successfully\n//router.get('/twitter/callback', twitterAuth, authController.twitter)\n\n//router.get('/facebook/callback', facebookAuth, authController.facebook)\n//router.get('/github/callback', githubAuth, authController.github)\n\n// This custom middleware allows us to attach the socket id to the session\n// With that socket id we can send back the right user info to the right \n// socket\nrouter.use((req, res, next) => {\n  req.session.socketId = req.query.socketId\n  next()\n})\n\n// Routes that are triggered on the client\n//router.get('/twitter', twitterAuth)\n//router.get('/google', googleAuth)\n//router.get('/facebook', facebookAuth)\n//router.get('/github', githubAuth)\n\nexport default router;"]}